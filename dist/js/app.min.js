document.addEventListener("DOMContentLoaded", () => {

    // init
    var controller = new ScrollMagic.Controller({
        globalSceneOptions: {
            triggerHook: 'onLeave',
            duration: "200%" // this works just fine with duration 0 as well
            // However with large numbers (>20) of pinned sections display errors can occur so every section should be unpinned once it's covered by the next section.
            // Normally 100% would work for this, but here 200% is used, as Panel 3 is shown for more than 100% of scrollheight due to the pause.
        }
    });

    // get all slides
    var slides = document.querySelectorAll("section.panel");

    // create scene for every slide
    for (var i = 0; i < slides.length; i++) {
        new ScrollMagic.Scene({
            triggerElement: slides[i]
        })
            .setPin(slides[i], {pushFollowers: false})
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller);
    }

    if (document.getElementById('sliderProduct')) {
        new Swiper('#sliderProduct', {
            lazyPreloadPrevNext: 2,
            slidesPerView: 4,
            spaceBetween: 26,
            navigation: {
                nextEl: '#sliderProductNext',
                prevEl: '#sliderProductPrev',
            },
            breakpoints: {
                300: {
                    slidesPerView: 'auto',
                    spaceBetween: 13

                },
                574: {
                    slidesPerView: 'auto',
                    spaceBetween: 13
                },
                800: {
                    slidesPerView: 3,
                    spaceBetween: 26
                },
                1200: {
                    slidesPerView: 4,
                    spaceBetween: 26
                }
            }
        });
    }
    if (document.getElementById('sliderNews')) {
        new Swiper('#sliderNews', {
            lazyPreloadPrevNext: 2,
            spaceBetween: 26,
            navigation: {
                nextEl: '#sliderNewsNext',
                prevEl: '#sliderNewsPrev',
            },
            breakpoints: {
                300: {
                    spaceBetween: 13

                },
                574: {
                    spaceBetween: 13
                },
                800: {

                    spaceBetween: 26
                },
                1200: {
                    spaceBetween: 26
                }
            }
        });
    }


});
